\documentclass[
    a4paper, % Page size
    fontsize=9.5pt, % Base font size
    twoside=true, % Use different layouts for even and odd pages (in particular, if twoside=true, the margin column will be always on the outside)
	%open=any, % If twoside=true, uncomment this to force new chapters to start on any page, not only on right (odd) pages
	%chapterentrydots=true, % Uncomment to output dots from the chapter name to the page number in the table of contents
	numbers=noenddot, % Comment to output dots after chapter numbers; the most common values for this option are: enddot, noenddot and auto (see the KOMAScript documentation for an in-depth explanation)
	fontmethod=modern, % Can also use "modern" with XeLaTeX or LuaTex; "tex" is the default for PdfLaTex, and "modern" is the default for those two.
]{kaobook}

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------
\usepackage[CJKmath]{xeCJK}
\setCJKmainfont[BoldFont=SimHei, ItalicFont=KaiTi]{SimSun}


% Choose the language
\ifxetexorluatex
	\usepackage{polyglossia}
	\setmainlanguage{english}
\else
	\usepackage[english]{babel} % Load characters and hyphenation
\fi
\usepackage[english=british]{csquotes}	% English quotes

%\usepackage{showframe} % Uncomment to show boxes around the text area, margin, header and footer
%\usepackage{showlabels} % Uncomment to output the content of \label commands to the document where they are used

% Load the bibliography package
%\usepackage{kaobiblio}
%\addbibresource{main.bib} % Bibliography file

% Load mathematical packages for theorems and related environments
%\usepackage[framed=true]{kaotheorems}

% Load the package for hyperreferences
%\usepackage{kaorefs}

%\graphicspath{{examples/documentation/images/}{images/}} % Paths in which to look for images

%\makeindex[columns=3, title=Alphabetical Index, intoc] % Make LaTeX produce the files required to compile the index

%\makeglossaries % Make LaTeX produce the files required to compile the glossary
%\input{glossary.tex} % Include the glossary definitions

%\makenomenclature % Make LaTeX produce the files required to compile the nomenclature

% Reset sidenote counter at chapters
%\counterwithin*{sidenote}{chapter}

%----------------------------------------------------------------------------------------

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  添加用户定义  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand*{\lstlistingname}{代码}
\renewcommand*{\lstlistingnamestyle}{\bfseries}
\lstnewenvironment{code}[1][]
{
	%	\setmonofont{mononoki}
	%	\setmonofont{mononoki}
	%staring code
	\lstset{
		language=[11]C++,
		columns=fullflexible,%fixed
		basicstyle=\ttfamily\footnotesize\linespread{1.25},
		commentstyle=\color{green!70!black}\itshape,
		keywordstyle=\color{blue}\bfseries,
		numberstyle=\scriptsize\color{red!70!black}\ttfamily,
		stringstyle=\color{cyan},
		identifierstyle=\color{darkgray},
		breakautoindent,
		breakindent=4ex,
		breaklines,
		breakatwhitespace=false,
		showstringspaces=false,
		emph=[2]{override,final},
		emphstyle=[2]{\color{blue}\bfseries},		
		emph=[3]{UPROPERTY,UFUNCTION,UENUM,UCLASS,USTRUCT},
		emphstyle=[3]{\color{orange!70!black}\bfseries},
		emph=[4]{BlueprintType,EditDefaultsOnly,BlueprintReadOnly},
		emphstyle=[4]{\color{cyan!70!blue}},
		tabsize=4,
		numbers=none,
		%escapeinside=``,
		frame=none,
		backgroundcolor=\color{gray!5},
		captionpos=t,%标题的位置
		#1
	}
}
{%end code
%可以在这里自定义命令
}


\newcommand{\ci}[1]{
	\lstinline[language=C++,breakatwhitespace=false,breaklines,basicstyle=\ttfamily\small,identifierstyle=\color{blue},keywordstyle=\color{blue}\bfseries]{#1}%
}

\newcommand{\cppsign}{$C^{++}$}
\newcommand{\cpp}[1][11]{$C^{++ \mathbf{#1}}$}
\newcommand{\cssign}{$C{\#}$}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  结束添加用户定义  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%marker环境
\newtcolorbox{marker}[1][]{enhanced,before skip=2mm,
	after skip=3mm,fontupper=\rmfamily,
	boxrule=0.4pt,left=5mm,right=2mm,top=1mm,bottom=1mm,
	colback=yellow!50,colframe=yellow!20!black,
	sharp corners,rounded corners=southeast,
	arc is angular,arc=3mm,underlay={%
		\path[fill=tcbcolback!80!black] ([yshift=3mm]interior.south east)--++(-0.4,-0.1)--++(0.1,-0.2);
		\path[draw=tcbcolframe,shorten <=-0.05mm,shorten >=-0.05mm] ([yshift=3mm]interior.south east)--++(-0.4,-0.1)--++(0.1,-0.2);
		\path[fill=yellow!50!black,draw=none] (interior.south west) rectangle node[white]{\Huge\bfseries !} ([xshift=4mm]interior.north west);
	},
	drop fuzzy shadow,#1
}
\usepackage{float}
\usepackage[normalem]{ulem}
\usepackage{menukeys}



%%设置新字体
%%定义带圈数字命令
\newfontfamily{\nmfont}{circlenumber}
[%
Extension=.otf,
Path=./fonts/]

\newcommand{\quan}[1]{{\nmfont \symbol{#1}}}
\newcommand{\kk}[1]{\quan{\numexpr32+#1}}%\kk{<参数范围1-95>}96、97、98、99分别用\quan{196} \quan{197} \quan{199} \quan{201}

%脚注使用带圈数字
\newcommand*\kkctr[1]{\protect\kk{\number\numexpr\value{#1}\relax}}%
\renewcommand*\thefootnote{\textcolor{black}{\kkctr{footnote}}}

%%二级枚举用带圈的序号1，2...。
\renewcommand{\labelenumii}{\small\kk{\arabic*}}

\makeatletter
%%无悬挂脚注格式
\renewcommand\@makefntext[1]{%
  \setlength\parindent{2\ccwd}\selectfont
  \@thefnmark\ #1}

%修改\part，使其不分页
\def\@endpart{%
  \vskip40\p@%
   \@afterheading}
\makeatother

\newenvironment{myenum}{\begin{enumerate}[label=\protect\kk{\arabic*}]\small}{\end{enumerate}}%



\usepackage{float}




\newcommand{\cg}[2][width=.9\linewidth]{
\begin{figure}[H]
\centering
\includegraphics[#1]{#2}
\end{figure}
}

\newcommand{\cgc}[3][width=.9\textwidth]{
\begin{figure}[H]
\centering
\includegraphics[#1]{#2}
\caption{#3}
\end{figure}
}

\usepackage{xurl}
\usepackage[normalem]{ulem}
\usepackage{booktabs,longtable,array}





\newcommand{\Lyra}{\texttt{Lyra}}
\begin{document}

%\pagestyle{empty}
%\begin{tikzpicture}[remember picture, overlay]
%\node at (current page.center){\includegraphics[width=\paperwidth,height=\paperheight]{./assets/cover.png}};
%\end{tikzpicture}
%----------------------------------------------------------------------------------------
%	MAIN BODY
%----------------------------------------------------------------------------------------

\mainmatter % Denotes the start of the main document content, resets page numbering and uses arabic numbers
\setchapterstyle{kao} % Choose the default chapter heading style

%\setchapterimage[6cm]{seaside}
\setchapterpreamble[u]{\margintoc}
\input{tutorial.tex}

\end{document}